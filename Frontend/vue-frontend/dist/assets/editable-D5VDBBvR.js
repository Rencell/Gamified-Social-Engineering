import{d as M,r as w,c as P,b as n,o as s,e as u,f as r,x as d,g as l,E as z,v as m,m as g,l as C,t as v,F as x,s as V,T as b,w as p,i as _,p as k,_ as I,h as O,j as B,P as N,k as S,G as T,C as E,q as F,y as G}from"./index-CRWd4KeT.js";import{_ as D}from"./SidebarEdittable.vue_vue_type_script_setup_true_lang-Cb6CyAtL.js";const L={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},Q={class:"lg:col-span-2 space-y-6"},H={class:"flex items-center justify-center space-x-4 mb-6 font-display"},J={key:0,class:"bg-[#f6f6f6] p-4 rounded-xl relative"},K={class:"absolute top-4 right-4"},R={class:"flex justify-between"},W={class:"flex items-center gap-5"},X={class:"flex gap-2 flex-col font-secondary mb-4 text-background font-medium text-sm"},Y={key:2},Z={key:3},ee={class:"place-content-center text-xs text-background"},te={class:"p-5 bg-white rounded-lg border-1 border-black/40 shadow-xl motion-preset-fade"},se={class:"py-4 text-black text-sm flex flex-col gap-3"},le={key:0,class:"flex gap-3 w-full items-start"},ae=["href"],oe={key:1,class:"flex gap-3"},ne={key:2},ue={class:"flex items-center justify-between"},re={class:"flex items-center gap-2"},de={class:"text-sm font-medium text-muted-foreground min-w-[20px]"},me=M({__name:"editable",props:{questions:{}},setup($){const h=$,y=w(0),e=P(()=>h.questions[y.value]||null),o=w(!1),U=()=>{o.value=!o.value};function A(){if(e.value.options.length>=4)return;const f=String.fromCharCode(97+e.value.options.length);e.value.options.push({id:f,text:""})}function j(f){e.value.options.length>2&&(e.value.options=e.value.options.filter(t=>t.id!==f))}function q(f){e.value.correctAnswer=f}return(f,t)=>(s(),n("div",L,[u("div",Q,[u("div",H,[e.value.type=="email"?(s(),n("div",J,[u("div",K,[r(l(z),{class:"text-black",onClick:U})]),u("div",R,[u("div",W,[t[5]||(t[5]=u("div",{class:"p-2 py-1 rounded-md h-fit bg-black text-blue-400"},"m",-1)),u("div",X,[o.value?d("",!0):(s(),m(l(g),{key:0,modelValue:e.value.sender,"onUpdate:modelValue":t[0]||(t[0]=a=>e.value.sender=a),class:"w-full max-w-sm"},null,8,["modelValue"])),o.value?d("",!0):(s(),m(l(C),{key:1,modelValue:e.value.subject,"onUpdate:modelValue":t[1]||(t[1]=a=>e.value.subject=a),class:"w-full max-w-sm"},null,8,["modelValue"])),o.value?(s(),n("h1",Y,v(e.value.sender),1)):d("",!0),o.value?(s(),n("h2",Z,v(e.value.subject),1)):d("",!0)])]),u("div",ee,v(e.value.date),1)]),u("div",te,[u("div",se,[(s(!0),n(x,null,V(e.value.content,(a,c)=>(s(),n(x,{key:c},[a.charAt(0)==="#"?(s(),n("div",le,[o.value?(s(),n("a",{key:0,href:e.value.link,class:"bg-yellow-400 text-black px-4 py-2 w-fit rounded"},v(a.trim().substring(1)),9,ae)):d("",!0),o.value?d("",!0):(s(),m(l(g),{key:1,modelValue:e.value.content[c],"onUpdate:modelValue":i=>e.value.content[c]=i},null,8,["modelValue","onUpdate:modelValue"])),o.value?d("",!0):(s(),m(l(g),{key:2,modelValue:e.value.link,"onUpdate:modelValue":t[2]||(t[2]=i=>e.value.link=i)},null,8,["modelValue"])),o.value?d("",!0):(s(),m(l(b),{key:3,class:"text-red-500 size-10",onClick:i=>e.value.content.splice(c,1)},null,8,["onClick"]))])):(s(),n("div",oe,[o.value?d("",!0):(s(),m(l(C),{key:0,modelValue:e.value.content[c],"onUpdate:modelValue":i=>e.value.content[c]=i},null,8,["modelValue","onUpdate:modelValue"])),o.value?d("",!0):(s(),m(l(b),{key:1,class:"text-red-500 size-4",onClick:i=>e.value.content.splice(c,1)},null,8,["onClick"])),o.value?(s(),n("p",ne,v(a),1)):d("",!0)]))],64))),128)),o.value?d("",!0):(s(),m(l(k),{key:0,onClick:t[3]||(t[3]=a=>e.value.content.push("sdsa"))},{default:p(()=>t[6]||(t[6]=[_("Add Content",-1)])),_:1,__:[6]}))])])])):d("",!0)]),r(l(F),{class:"bg-background"},{default:p(()=>[r(l(I),null,{default:p(()=>[u("div",ue,[r(l(O),{class:"flex items-center gap-2"},{default:p(()=>[t[7]||(t[7]=_(" Answer Options ",-1)),r(l(B),{variant:"secondary",class:"text-xs"},{default:p(()=>[_(v(e.value.options.length)+" options ",1)]),_:1})]),_:1,__:[7]}),r(l(k),{disabled:e.value.options.length===4,variant:"outline",size:"sm",onClick:A,class:"gap-2 bg-transparent"},{default:p(()=>[r(l(N),{class:"h-4 w-4"}),t[8]||(t[8]=_(" Add Option ",-1))]),_:1,__:[8]},8,["disabled"])])]),_:1}),r(l(S),{class:"space-y-3"},{default:p(()=>[(s(!0),n(x,null,V(e.value.options,(a,c)=>(s(),n("div",{key:a.id,class:"flex items-center gap-3 p-3 border rounded-lg bg-card"},[u("div",re,[r(l(T),{class:"h-4 w-4 text-muted-foreground cursor-move"}),u("span",de,v(String.fromCharCode(65+c)),1)]),r(l(g),{placeholder:`Option ${String.fromCharCode(65+c)}`,modelValue:a.text,"onUpdate:modelValue":i=>a.text=i,class:"flex-1"},null,8,["placeholder","modelValue","onUpdate:modelValue"]),r(l(k),{variant:e.value.correctAnswer===a.id?"default":"outline",size:"sm",onClick:i=>q(a.id),class:"gap-1 min-w-[80px]"},{default:p(()=>[e.value.correctAnswer===a.id?(s(),n(x,{key:0},[r(l(E),{class:"h-3 w-3"}),t[9]||(t[9]=_(" Correct ",-1))],64)):(s(),n(x,{key:1},[_(" Mark ")],64))]),_:2},1032,["variant","onClick"]),e.value.options.length>2?(s(),m(l(k),{key:0,variant:"outline",size:"sm",onClick:i=>j(a.id),class:"text-destructive hover:text-destructive"},{default:p(()=>[r(l(b),{class:"h-4 w-4"})]),_:2},1032,["onClick"])):d("",!0)]))),128)),t[10]||(t[10]=u("p",{class:"text-xs text-muted-foreground mt-2"}," Max: 4 options. Minimum: 2 options. ",-1))]),_:1,__:[10]})]),_:1})]),r(D,{questions:h.questions,currentIndex:y.value,"onUpdate:currentIndex":t[4]||(t[4]=a=>y.value=a),propsMap:l(G).PhishingTactics},null,8,["questions","currentIndex","propsMap"])]))}});export{me as default};
