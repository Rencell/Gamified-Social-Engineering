import{d as F,a as M,c as k,r as N,J as A,b,o as c,f as t,e as u,g as s,q as E,w as a,_ as B,h as J,i as r,k as P,K as I,v as D,L,m as z,z as w,t as C,M as q,F as O,s as h,T as j,p as d,P as m,N as U}from"./index-C2jBQzig.js";const K={class:"gap-2 flex items-center justify-end text-sm"},Y={class:"flex items-center gap-2"},G={class:"flex items-center gap-2"},H={class:"text-xs text-red-500"},R=["onClick"],W={class:"text-sidebar-foreground"},X={key:1,class:"flex flex-col gap-2"},Z={class:"w-full flex justify-end"},se=F({__name:"SidebarEdittable",props:{questions:{},propsMap:{},currentIndex:{},isFinal:{type:Boolean}},emits:["update:currentIndex"],setup(y,{emit:Q}){const i=M(),o=y,v=k(()=>o.questions),_=Q;function S(n){_("update:currentIndex",n)}function $(n){if(o.questions.length<=1){alert("You must have at least one question.");return}o.currentIndex===n?_("update:currentIndex",Math.max(0,n-1)):o.currentIndex>n&&_("update:currentIndex",0),v.value.splice(n,1)}function V(){const n=JSON.parse(JSON.stringify(o.propsMap));v.value.push(n),o.questions.length<=10&&(i.contentItems.quiz_limit=o.questions.length)}function p(n){const e=JSON.parse(JSON.stringify(U[n]));v.value.push(e)}const g=N(!0),x=k(()=>(i.contentItems.quiz_limit??0)>o.questions.length);return A(()=>{o.questions.length<=10&&(i.contentItems.quiz_limit=o.questions.length)}),(n,e)=>(c(),b("div",null,[t(s(E),{class:"bg-background border-sidebar-border h-fit"},{default:a(()=>[t(s(B),null,{default:a(()=>[t(s(J),{class:"text-sidebar-foreground"},{default:a(()=>e[8]||(e[8]=[r("Question Status",-1)])),_:1,__:[8]})]),_:1}),t(s(P),{class:"space-y-4"},{default:a(()=>[u("div",K,[e[9]||(e[9]=r(" Edit Default ",-1)),t(s(L),{modelValue:g.value,"onUpdate:modelValue":e[0]||(e[0]=l=>g.value=l)},null,8,["modelValue"])]),u("div",Y,[e[10]||(e[10]=u("p",{class:"text-xs w-25"},"Quiz Limit:",-1)),t(s(z),{disabled:g.value,type:"number",modelValue:s(i).contentItems.quiz_limit,"onUpdate:modelValue":e[1]||(e[1]=l=>s(i).contentItems.quiz_limit=l),placeholder:"Enter quiz limit",class:w({"border-red-500 focus-visible:ring-red-500":x.value})},null,8,["disabled","modelValue","class"])]),I(u("p",{class:"text-xs text-red-500"},"The ideal limit is 1-"+C(n.questions.length),513),[[q,x.value]]),u("div",G,[e[11]||(e[11]=u("p",{class:"text-xs w-30"},"Pass rate:",-1)),t(s(z),{disabled:g.value,type:"number",modelValue:s(i).contentItems.pass_rate,"onUpdate:modelValue":e[2]||(e[2]=l=>s(i).contentItems.pass_rate=l),placeholder:"Enter pass rate",class:w({"border-red-500 focus-visible:ring-red-500":(s(i).contentItems.pass_rate||1)>100})},null,8,["disabled","modelValue","class"]),e[12]||(e[12]=r(" % ",-1))]),I(u("p",H,"The ideal limit is 0-100% ",512),[[q,(s(i).contentItems.pass_rate||1)>100]]),(c(!0),b(O,null,h(v.value,(l,f)=>(c(),b("div",{key:f,class:"space-y-2"},[u("div",{class:w(["flex justify-between text-sm hover:bg-ternary/10 rounded-lg cursor-pointer p-1",f===n.currentIndex?"bg-accent/50 font-medium p-2":""]),onClick:T=>S(f)},[u("span",W,"Question #"+C(f+1),1),t(s(j),{class:"h-4 w-4 text-destructive hover:text-destructive hover:opacity-100",onClick:T=>$(f)},null,8,["onClick"])],10,R)]))),128)),n.isFinal?(c(),b("div",X,[t(s(d),{variant:"outline",size:"sm",onClick:e[3]||(e[3]=l=>p("MultipleChoice")),class:"gap-2 bg-transparent w-full"},{default:a(()=>[t(s(m),{class:"h-4 w-4"}),e[14]||(e[14]=r(" Add Multiple Choice ",-1))]),_:1,__:[14]}),t(s(d),{variant:"outline",size:"sm",onClick:e[4]||(e[4]=l=>p("TwoImage")),class:"gap-2 bg-transparent w-full"},{default:a(()=>[t(s(m),{class:"h-4 w-4"}),e[15]||(e[15]=r(" Add Two Image ",-1))]),_:1,__:[15]}),t(s(d),{variant:"outline",size:"sm",onClick:e[5]||(e[5]=l=>p("TrueFalse")),class:"gap-2 bg-transparent w-full"},{default:a(()=>[t(s(m),{class:"h-4 w-4"}),e[16]||(e[16]=r(" Add True or False ",-1))]),_:1,__:[16]}),t(s(d),{variant:"outline",size:"sm",onClick:e[6]||(e[6]=l=>p("Email")),class:"gap-2 bg-transparent w-full"},{default:a(()=>[t(s(m),{class:"h-4 w-4"}),e[17]||(e[17]=r(" Add Email Question ",-1))]),_:1,__:[17]}),t(s(d),{variant:"outline",size:"sm",onClick:e[7]||(e[7]=l=>p("Sms")),class:"gap-2 bg-transparent w-full"},{default:a(()=>[t(s(m),{class:"h-4 w-4"}),e[18]||(e[18]=r(" Add SMS Question ",-1))]),_:1,__:[18]})])):(c(),D(s(d),{key:0,variant:"outline",size:"sm",onClick:V,class:"gap-2 bg-transparent"},{default:a(()=>[t(s(m),{class:"h-4 w-4"}),e[13]||(e[13]=r(" Add Question ",-1))]),_:1,__:[13]}))]),_:1})]),_:1}),u("div",Z,[t(s(d),{disabled:x.value,size:"sm",class:"mt-5",onClick:s(i).updateContentsQuiz},{default:a(()=>e[19]||(e[19]=[r("Save Quiz",-1)])),_:1,__:[19]},8,["disabled","onClick"])])]))}});export{se as _};
